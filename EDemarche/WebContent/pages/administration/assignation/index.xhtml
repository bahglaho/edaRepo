<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
       <ui:composition template="/template/templatePage.xhtml">

	
	<ui:define name="contents"> 
<h:form id="gnl">	
 <section class="content-header">
      <h1>
        Assignation
        <small>Liste des assignations</small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Admin</a></li>
        <li class="active">Assignation</li>
      </ol>
    </section>
  
    <section class="content">
<div class="box box-default">
<div class="panel-primary">
           <div class="panel-heading" style="background-color: #f88b2e">Liste des assignations
           
           	<div class="pull-right">
			
			<p:commandLink styleClass="btn btn-success btn-rounded waves-effect waves-light" style="margin-top:-7px; background-color: #036d3b" data-original-title="Nouvelle Demande" data-toggle="tooltip" action="#{assignationController.renderPage('ass2')}"  update=":content">
				<span class="btn-label"><i class="fa fa-plus"></i></span><span class="hidden-xs"> Nouvelle Assignation</span>
				</p:commandLink>
				
			</div>
           </div>
          </div>
          <div class="box-body">
            <div class="col-xs-12">
              <p:messages id="message" showDetail="false" autoUpdate="true"  closable="true"/></div>
					
					<p:dataTable id="ndTble" styleClass="table mb0 dt-on-steroids dataTable" var="slctdTb" value="#{assignationController.assignationListe}" emptyMessage="Aucune Assignation enregistrée" rows="10" 
                         paginator="true"
                         rowsPerPageTemplate="5,10,15" >
         				<p:column headerText="N°" styleClass="col-sm-1" >
         				<h:outputText value="#{slctdTb.assNum}"/>
				        </p:column>
				        
				         <p:column headerText="Operateur" styleClass="col-sm-1" >
				         <h:outputText value="#{slctdTb.TOperateur.opeNom}" />

				        </p:column>
				        
				         <p:column headerText="Fonction" styleClass="col-sm-1" >
         				    <h:outputText value="#{slctdTb.TFonction.fonLibelle}"/>
				        </p:column>
				         <p:column headerText="Type Fonction" styleClass="col-sm-1" >
         				<h:outputText value="#{slctdTb.TFonction.TTypeFonction.tyfLibelle}"/>
				        </p:column>
				        
                        <p:column headerText="Assignation courante" styleClass="col-sm-1" >
         				    <h:outputText value="#{slctdTb.assCourant == 'O'?'OUI':'NON'}"/>
				        </p:column>
				        
				         <p:column headerText="Statut" styleClass="col-sm-1" >
				          <h:outputText value="#{slctdTb.assStatut ?'ACTIF':'INACTIF'}"/>
         				   </p:column>
         				   
         				    <p:column headerText="Date" styleClass="col-sm-1" >
				            <h:outputText value="#{slctdTb.assDatDeb}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
			                  </h:outputText>
         				   </p:column>
         				    <p:column headerText="Statut" styleClass="col-sm-1" >
				          <h:outputText value="#{slctdTb.assDatFin}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
			                  </h:outputText>
         				   </p:column>
         				   
         				    <p:column headerText="Actions" width="4%">
				               <button class="btn btn-xs btn-warning" style="background-color: #f88b2e">
				              <p:commandLink action="#{assignationController.renderPage('ass3')}" title="Modifier" update=":content">
                                <i class="ace-icon fa fa-pencil bigger-120"  style="color: white"></i>                                
                                 <f:setPropertyActionListener value="#{slctdTb}" target="#{assignationController.slctdTd}" />
                                </p:commandLink>
                              </button>
                              
                               
				               <button class="btn btn-xs btn-danger" >
				              <p:commandLink action="#{assignationController.delete()}" title="Suprimer" update=":gnl">
                                <i class="ace-icon fa fa-remove bigger-120"  style="color: white"></i>                                
                                 <f:setPropertyActionListener value="#{slctdTb}" target="#{assignationController.slctdTd}" />
                                </p:commandLink>
                              </button>
                            
				         </p:column>   

        <f:facet name="paginatorTopLeft">
            <p:commandButton type="button" icon="fa fa-sync" />
        </f:facet>
 
        <f:facet name="paginatorBottomRight">
            <p:commandButton type="button" icon="fa fa-cloud-upload" />
        </f:facet>
    </p:dataTable>
 
 <p:commandLink styleClass="btn btn-danger mr10" value="Fermer" style="margin-top:10px;" action="#{userController.renderPage('accueil')}"  update=":content"/>
 
          </div>
          
          </div>
          
       </section>
         

</h:form>




<p:confirmDialog global="true" showEffect="fade" hideEffect="fade"  width="30%" height="25%" >
 		<div align="center">
        <p:commandButton value="Confirmer" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
        <p:commandButton value="Annuler" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
        </div>
    </p:confirmDialog>
     </ui:define>
    </ui:composition>
</html>